<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DAYX: Idle Mode</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="stars"></div>
  <div class="shooting-star"></div>
  <button id="darkModeToggle">ダークモード切替</button>
  <header class="hero fade-in">
    <h1 id="logo">Idle Mode</h1>
    <p>やる気ゼロでもOK。今は心のエンジンを休ませる時間。</p>
    <svg class="gear-svg" viewBox="0 0 100 100">
      <defs>
        <linearGradient id="dayGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#81d4fa;" />
          <stop offset="100%" style="stop-color:#fdd835;" />
        </linearGradient>
        <linearGradient id="nightGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#fdd835;" />
          <stop offset="100%" style="stop-color:#81d4fa;" />
        </linearGradient>
      </defs>
      <polygon points="50,10 60,20 70,10 80,20 90,10 90,30 100,40 90,50 100,60 90,70 80,60 70,70 60,60 50,70 40,60 30,70 20,60 10,70 10,50 0,40 10,30 0,20 10,10 20,20 30,10 40,20" 
      stroke="url(#dayGradient)" stroke-width="4" fill="none" />
    </svg>
  </header>

  <section class="check fade-in">
    <h2>今日のコンディションチェック</h2>
    <button onclick="showMessage('完全アイドリングモードがおすすめ')">だるい</button>
    <button onclick="showMessage('低速巡航モードでゆるっと')">何もしたくない</button>
    <button onclick="showMessage('ボーッと時間は心の燃料補給')">ボーッとしたい</button>
    <p id="message" class="message"></p>
  </section>

  <section class="tips fade-in">
    <h2>心のメンテナンスTips</h2>
    <ul>
      <li>静かに音楽を流す</li>
      <li>好きな香りを試す</li>
      <li>外を10分散歩する</li>
      <li>無理に成果を求めない</li>
      <li>“できなくてOK”を自分に許す</li>
    </ul>
  </section>

  <section class="quote fade-in">
    <h2>今日の癒しの言葉</h2>
    <p id="dailyQuote"></p>
    <p id="nightMessage" class="night-message"></p>
  </section>

  <section class="music fade-in">
    <h2>癒しのBGM</h2>
    <select id="bgmSelect">
      <option value="1">昼モード BGM 1</option>
      <option value="2">昼モード BGM 2</option>
      <option value="3">夜モード 雨音</option>
      <option value="4">夜モード 虫の声</option>
    </select>
    <audio id="bgmPlayer" controls>
      <source id="bgmSource" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
      お使いのブラウザはaudio要素をサポートしていません。
    </audio>
  </section>

  <footer>
    <p>アイドリングは前進の準備。</p>
  </footer>

  <script>
    function showMessage(msg) {
      document.getElementById('message').textContent = msg;
    }

    const quotes = [
      "深呼吸して、ゆっくりいこう。",
      "何もしない時間も大事。",
      "今日できなくても、明日がある。",
      "心のエンジンは静かに温めよう。",
      "休むことは前進の一部。"
    ];
    document.getElementById('dailyQuote').textContent = quotes[new Date().getDay()];

    const bgmSelect = document.getElementById('bgmSelect');
    const bgmPlayer = document.getElementById('bgmPlayer');
    const bgmSource = document.getElementById('bgmSource');
    const logo = document.getElementById('logo');
    const nightMessage = document.getElementById('nightMessage');
    const gear = document.querySelector('.gear-svg polygon');

    const tracks = {
      '1': 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
      '2': 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
      '3': 'https://example.com/rain-sound.mp3', // ここは雨音ファイルURLに置き換えてください
      '4': 'https://example.com/insect-sound.mp3' // ここは虫の声ファイルURLに置き換えてください
    };

    bgmSelect.addEventListener('change', function() {
      bgmSource.src = tracks[this.value];
      bgmPlayer.load();
    });

    document.getElementById('darkModeToggle').addEventListener('click', function() {
      document.body.classList.toggle('dark-mode');
      const gradient = document.body.classList.contains('dark-mode') ? 'url(#nightGradient)' : 'url(#dayGradient)';
      gear.setAttribute('stroke', gradient);

      if (document.body.classList.contains('dark-mode')) {
        bgmSource.src = tracks['3']; // 雨音に自動切替
        bgmPlayer.load();
        logo.textContent = "Idle Mode ✧ Night";
        nightMessage.textContent = "夜空の下、ゆっくり休んでね。";
      } else {
        bgmSource.src = tracks['1'];
        bgmPlayer.load();
        logo.textContent = "Idle Mode";
        nightMessage.textContent = "";
      }
    });

    window.addEventListener('scroll', () => {
      document.querySelectorAll('.fade-in').forEach(el => {
        const rect = el.getBoundingClientRect();
        if (rect.top < window.innerHeight - 50) {
          el.classList.add('visible');
        }
      });
    });
  </script>
</body>
</html>